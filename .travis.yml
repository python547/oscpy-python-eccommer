language: python

matrix:
  include:
    - os: linux
      python:
        - "2.7"
        - "3.5"
        - "3.6"
        - "3.7-dev"  # 3.7 development branch
        - "pypy3.5"
      install: pip install --editable .[dev,travis]
      script:
        - pytest tests/ --cov oscpy/ --cov-branch
        - travis_retry coveralls
    - os: osx
      language: sh
      python:
        - "2.7"
        - "3.5"
        - "3.6"
        - "3.7-dev"  # 3.7 development branch
        - "pypy3.5"
      install: pip install --editable .[dev,travis]
      script:
        - pytest tests/ --cov oscpy/ --cov-branch
        - travis_retry coveralls
    - os: windows
      python:
        - "2.7"
        - "3.5"
        - "3.6"
        - "3.7-dev"  # 3.7 development branch
        - "pypy3.5"
      language: sh
      before_install:
        - choco install python2 python3
        - export PATH="/c/Python37/:/c/Python37/Scripts:$PATH"
      install: pip install --editable .[dev,travis]
      script:
        - pytest tests/ --cov oscpy/ --cov-branch
        - travis_retry coveralls

